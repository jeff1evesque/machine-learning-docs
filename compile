#!/bin/bash

DOC_VERSION="$1"
CWD="$2"
PWD=$(pwd)

cd "$CWD"
sudo apt-get -y install python-pip && echo 'pip installed'
sudo pip install sphinx && echo 'sphinx installed'
sudo apt-get -y install subversion && echo 'subversion installed'
mkdir -p "$DOC_VERSION"
mv "$DOC_VERSION" html
sudo svn export https://github.com/jeff1evesque/machine-learning/trunk/doc source && echo 'documentation copied into source directory'
make html && echo 'sphinx compiled documentation'
mv html "$DOC_VERSION"
rm -rf source
cd "$PWD"